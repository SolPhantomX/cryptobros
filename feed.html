<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CryptoBros Feed</title>
<link rel="preconnect" href="https://fonts.googleapis.com  ">
<link rel="preconnect" href="https://fonts.gstatic.com  " crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter  :wght@400;500:600;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="feed.css">

<!-- –í–°–¢–ê–í–õ–ï–ù–ê –ê–ù–ò–ú–ê–¶–ò–Ø –ú–ï–†–¶–ê–ù–ò–Ø -->
<style>
.shimmer-text {
    background: linear-gradient(90deg, #FFD700, #00F0FF, #9D00FF, #ff4d4d, #00ff9d, #FFD700);
    background-size: 400%;
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    animation: shimmerCycle 5s linear infinite;
    font-weight: 700;
    display: inline-block;
}
@keyframes shimmerCycle {
    0% { background-position: 0% 50%; }
    100% { background-position: 400% 50%; }
}
</style>
</head>
<body>
<div class="layout">
<aside>
<a href="profile.html" class="sidebar-user">
<div class="sidebar-user-content">
<div class="avatar avatar-base" id="sidebarAvatar">C</div>
<div class="user-info">
<h3 id="sidebarUsername">@cryptobros</h3>
<p>CHAIRMAN OF THE TRIBUNAL</p>
</div>
</div>
</a>
<div class="sidebar-menu">
<a href="feed.html" class="menu-item active">üì∞ News Feed</a>
<a href="messages.html" class="menu-item">üí¨ Messages</a>
<a href="groups.html" class="menu-item">üë• My Groups</a>
<a href="profile.html" class="menu-item">‚öôÔ∏è Settings</a>
<a href="tribunal.html" class="menu-item">üí° Tribunal</a>
<a href="help.html" class="menu-item">üÜò Help Desk</a>
<a href="payment.html" class="menu-item">üí∞ AUS Token</a>
</div>
</aside>
<main>
<div class="top-bar">
<a href="profile.html" class="back-btn">‚Üê Back to Profile</a>
<div class="theme-toggle" id="themeToggle">üåô</div>
</div>
<div class="search-container" id="searchContainer">
<div class="search-wrapper">
<span class="search-icon">üîç</span>
<input type="text" id="globalSearchInput" placeholder="Search posts, #hashtags, $tokens..." autocomplete="off">
<button class="search-clear" id="searchClearBtn" style="display:none;">‚úï</button>
</div>
<div class="search-results" id="searchResultsBox" style="display:none;"></div>
</div>
<div class="create-post">
<div style="display: flex; gap: 1rem; align-items: flex-start;">
<div class="create-avatar avatar-base" id="createAvatar">C</div>
<div style="flex: 1;">
<textarea class="create-input" id="postInput" placeholder="What's on your mind? (max 2000 chars)" maxlength="2000" rows="4"></textarea>
<div class="create-actions">
<span id="charCount">0 / 2000</span>
<button class="btn-post" id="btnPost" onclick="createPost()">üìù Post</button>
</div>
</div>
</div>
</div>
<div class="pinned-auctions">
<h2 class="shimmer-text" style="animation-delay: 0s;">Auction Winners üèÜ</h2>
<div id="pinnedPostsContainer"></div>
</div>
<div id="feedPosts"></div>
</main>
<div class="right-sidebar">
<div class="trends-card">
<div class="trends-title">üî• Hot Topics</div>
<div class="trend-item"><div class="trend-name">#WIF Pump</div><div class="trend-count" id="trend1">2.1k <span class="trend-indicator trend-neutral">‚óè</span></div></div>
<div class="trend-item"><div class="trend-name">#SOL Buy</div><div class="trend-count" id="trend2">1.8k <span class="trend-indicator trend-neutral">‚óè</span></div></div>
<div class="trend-item"><div class="trend-name">#TribunalVote</div><div class="trend-count" id="trend3">942 <span class="trend-indicator trend-neutral">‚óè</span></div></div>
</div>
<div class="trends-card">
<div class="trends-title">Your Wallet</div>
<div style="font-weight: 600; color: var(--accent-gold); margin: 0.8rem 0;">0.00 SOL</div>
<div style="color: var(--text-secondary); font-size: 0.95rem;">AUS: pending launch</div>
<button style="width: 100%; margin-top: 1rem; padding: 0.8rem; background: var(--accent-gold); color: #0a0a0f; border: none; border-radius: 12px; font-weight: 600; cursor: pointer;" onclick="window.location.href='wallet-connect.html'">Connect Phantom</button>
</div>
</div>
</div>
<button id="feedBgBtn" class="feed-bg-btn" title="Change Feed Background">‚öôÔ∏è</button>
<div id="feedBgModal" class="feed-bg-modal">
<div class="feed-bg-modal-content">
<h3>Customize Feed</h3>
<div class="text-color-section">
<h4>Text Color</h4>
<div class="color-buttons">
<button class="color-btn" style="background:#ffd700;" onclick="setTextColor('#ffd700')"></button>
<button class="color-btn" style="background:#00f0ff;" onclick="setTextColor('#00f0ff')"></button>
<button class="color-btn" style="background:#9d00ff;" onclick="setTextColor('#9d00ff')"></button>
<button class="color-btn" style="background:#ff4d4d;" onclick="setTextColor('#ff4d4d')"></button>
<button class="color-btn" style="background:#ffffff;border:2px solid #000;" onclick="setTextColor('#ffffff')"></button>
</div>
</div>
<div class="bg-presets-grid" id="bgPresetsGrid"></div>
<div class="bg-upload-section">
<label for="feedBgUpload" class="bg-upload-label">Upload Custom Background</label>
<input type="file" id="feedBgUpload" accept="image/*" class="bg-upload-input">
</div>
<div class="bg-actions">
<button onclick="resetCustomColors()" class="btn-reset">Reset All Colors</button>
<button onclick="closeFeedBgModal()" class="btn-close-modal">Close</button>
</div>
</div>
</div>

<script src="feed-config.js"></script>
<script src="feed-utils.js"></script>
<script src="feed-sentinel.js"></script>
<script src="feed-background.js"></script>
<script src="feed-trends.js"></script>
<script src="feed-search.js"></script>
<script src="feed-ui.js"></script>
<script src="feed-main.js"></script>

<!-- –í–°–¢–ê–í–õ–ï–ù–´ –§–£–ù–ö–¶–ò–ò –° –ú–ï–†–¶–ê–Æ–©–ò–ú–ò –°–¢–†–û–ö–ê–ú–ò -->
<script>
// –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ –¥–ª—è –º–µ—Ä—Ü–∞–Ω–∏—è
if (typeof renderPinnedPosts !== 'undefined') {
    const originalRenderPinned = renderPinnedPosts;
    window.renderPinnedPosts = function() {
        const container = document.getElementById('pinnedPostsContainer');
        if (!container) return;
        const posts = typeof safeGetItem === 'function' ? safeGetItem('feedPosts', []) : [];
        const pinned = posts.filter(p => p.pinnedByAuction && p.pinned);
        
        if (pinned.length === 0) {
            // –ú–µ—Ä—Ü–∞—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏ —Å –†–ê–ó–ù–û–ô –∑–∞–¥–µ—Ä–∂–∫–æ–π (–Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)
            container.innerHTML = `
                <p class="shimmer-text" style="animation-delay: 0s; text-align:center; color:var(--text-secondary)">No auction winners yet</p>
                <p class="shimmer-text" style="animation-delay: 1.5s; text-align:center; color:var(--text-secondary); font-size: 0.9rem;">Be the first degen to share alpha!</p>
                <p class="shimmer-text" style="animation-delay: 3.2s; text-align:center; color:var(--text-secondary); font-size: 0.8rem; opacity: 0.7;">Mock mode</p>
            `;
        } else {
            // –í—ã–∑–æ–≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–∏ –µ—Å–ª–∏ –µ—Å—Ç—å –ø–æ—Å—Ç—ã (—É–ø—Ä–æ—â–µ–Ω–Ω–æ)
            originalRenderPinned(); 
        }
    };
}

// –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ—Å—Ç–æ–≤ –¥–ª—è –º–µ—Ä—Ü–∞–Ω–∏—è
if (typeof loadPosts !== 'undefined') {
    const originalLoad = loadPosts;
    window.loadPosts = function() {
        const container = document.getElementById('feedPosts');
        if (!container) return;
        const posts = typeof safeGetItem === 'function' ? safeGetItem('feedPosts', []) : [];
        
        if (!posts.length) {
            // –ú–µ—Ä—Ü–∞—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏ —Å –†–ê–ó–ù–û–ô –∑–∞–¥–µ—Ä–∂–∫–æ–π
            container.innerHTML = `
            <div style="text-align:center;padding:3rem;color:var(--text-secondary)">
                <h3 class="shimmer-text" style="margin-bottom:1rem; animation-delay: 0.5s;">No posts yet</h3>
                <p class="shimmer-text" style="animation-delay: 2.1s;">Be the first degen to share alpha!</p>
                <p class="shimmer-text" style="margin-top:1rem;font-size:0.85rem;opacity:0.7; animation-delay: 3.8s;">Mock mode</p>
            </div>`;
        } else {
            originalLoad();
        }
    };
}

// –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —á—Ç–æ–±—ã —Å—Ä–∞–∑—É –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–µ—Ä—Ü–∞–Ω–∏–µ
document.addEventListener('DOMContentLoaded', () => {
    setTimeout(() => {
        if (typeof renderPinnedPosts === 'function') renderPinnedPosts();
        if (typeof loadPosts === 'function') loadPosts();
    }, 100);
});
</script>
</body>
</html>
